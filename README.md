# Movies Explorer API
- Backend: https://api.movies-vg.nomoredomains.icu  
- Frontend: https://movies-vg.nomoredomains.icu  
- Репозиторий на GitHub https://github.com/vgaidukov/diploma-backend

Бэкенд для сервиса, представляющего собой сайт с каталогом фильмов, которые можно сохранить к себе в избранное и удалить.
Доступен фильтр по сдлительности фильмов, редактирование профиля.

## Директории

`/controllers` — папка с файлами контроллеров пользователя и карточки   
`/errors` — папка с файлами ошибок и их обработчиками  
`/models` — папка с файлами описания схем пользователя и карточки  
`/routes` — папка с файлами роутера  

## Запуск проекта

`npm run start` — запускает сервер   
`npm run dev` — запускает сервер с hot-reload  
`npm run lint` — запускает линтер
____
### В API реализована обработка следующих запросов:

***GET*** */users/me* - возвращает информацию о пользователе (email и имя)  
***PATCH*** */users/me* - обновляет информацию о пользователе (email и имя)  
***GET*** */movies* - возвращает все сохранённые пользователем фильмы  
***POST*** */movies* - создаёт фильм с переданными в теле полями  
***DELETE*** */movies/movieId* - удаляет сохранённый фильм по _id

***POST*** */signup* - создаёт пользователя с переданными в теле  
***POST*** */signin* - проверяет переданные в теле почту и пароль и возвращает JWT

Реализован следующий функционал:
- Верификация токена и защита роутов авторизацией
- Хранение пароля в виде хэша
- Превалидация на celebrate перед передачей данных в контроллеры
- Централизованная обработка ошибок. При любой ошибке API возвращается сообщение. Все обработчики завершаются catch.
- Логирование
- Ограничение на кол-во запросов с одного IP  

Бэкенд задеплоен на виртуальный сервер cloud.yandex.ru . ОС - Ubuntu 20.04.  
Настроен nginx, выпущены сертификаты для защищенного соединения, настроена бесперебойная работа приложения.

#### Стэк
`Node.js` `Express.js` `mongoose` `MongoDB`  
Для тестирования запросов использовался Postman.
